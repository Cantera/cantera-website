<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial &mdash; Cantera 2.2.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/site.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Cantera 2.2.1 documentation" href="../index.html" />
    <link rel="up" title="Python Module Documentation" href="index.html" />
    <link rel="next" title="Creating Phase Objects" href="importing.html" />
    <link rel="prev" title="Migrating from the Old Python Module" href="migrating.html" /> 
  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="../index.html">
<img src="../_static/cantera-logo.png" border="0" alt="Cantera"/></a>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="importing.html" title="Creating Phase Objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="migrating.html" title="Migrating from the Old Python Module"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Cantera</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Python Module Documentation</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li><a class="reference internal" href="#setting-the-state">Setting the State</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-mechanism-files">Working With Mechanism Files</a><ul>
<li><a class="reference internal" href="#converting-ck-format-files">Converting CK-format files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-help">Getting Help</a></li>
<li><a class="reference internal" href="#chemical-equilibrium">Chemical Equilibrium</a></li>
<li><a class="reference internal" href="#chemical-kinetics">Chemical Kinetics</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="migrating.html"
                        title="previous chapter">Migrating from the Old Python Module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="importing.html"
                        title="next chapter">Creating Phase Objects</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/cython/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Start by opening an interactive Python session, e.g. by running <a class="reference external" href="http://ipython.org/">IPython</a>. Import the Cantera Python module by running:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cantera</span> <span class="kn">as</span> <span class="nn">ct</span>
</pre></div>
</div>
<p>When using Cantera, the first thing you usually need is an object representing
some phase of matter. Here, we&#8217;ll create a gas mixture:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;gri30.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To view the state of the mixture, <em>call</em> the <tt class="xref py py-obj docutils literal"><span class="pre">gas1</span></tt> object as if it were a
function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="p">()</span>
</pre></div>
</div>
<p>You should see something like this:</p>
<div class="highlight-python"><div class="highlight"><pre> gri30:

      temperature             300  K
         pressure          101325  Pa
          density       0.0818891  kg/m^3
 mean mol. weight         2.01588  amu

                         1 kg            1 kmol
                      -----------      ------------
         enthalpy         26470.1        5.336e+04     J
  internal energy    -1.21087e+06       -2.441e+06     J
          entropy         64913.9        1.309e+05     J/K
   Gibbs function    -1.94477e+07        -3.92e+07     J
heat capacity c_p         14311.8        2.885e+04     J/K
heat capacity c_v         10187.3        2.054e+04     J/K

                          X                 Y          Chem. Pot. / RT
                    -------------     ------------     ------------
               H2              1                1         -15.7173
    [  +52 minor]              0                0
</pre></div>
</div>
<p>What you have just done is to create an object, <tt class="xref py py-obj docutils literal"><span class="pre">gas1</span></tt> that implements GRI-
Mech 3.0, the 53-species, 325-reaction natural gas combustion mechanism
developed by Gregory P. Smith, David M. Golden, Michael Frenklach, Nigel W.
Moriarty, Boris Eiteneer, Mikhail Goldenberg, C. Thomas Bowman, Ronald K.
Hanson, Soonho Song, William C. Gardiner, Jr., Vitali V. Lissianski, and
Zhiwei Qin. See <a class="reference external" href="http://www.me.berkeley.edu/gri_mech/">http://www.me.berkeley.edu/gri_mech/</a> for more information.</p>
<p>The <tt class="xref py py-obj docutils literal"><span class="pre">gas1</span></tt> object has properties you would expect for a gas mixture - it has a
temperature, a pressure, species mole and mass fractions, etc. As we&#8217;ll soon
see, it has many more properties.</p>
<p>The summary of the state of <tt class="xref py py-obj docutils literal"><span class="pre">gas1</span></tt> printed above shows that new objects
created from the <tt class="xref py py-obj docutils literal"><span class="pre">gri30.xml</span></tt> input file start out with a temperature of 300 K,
a pressure of 1 atm, and have a composition that consists of only one species,
in this case hydrogen. There is nothing special about H2 - it just happens to
be the first species listed in the input file defining GRI-Mech 3.0. In
general, whichever species is listed first will initially have a mole fraction
of 1.0, and all of the others will be zero.</p>
<div class="section" id="setting-the-state">
<h3>Setting the State<a class="headerlink" href="#setting-the-state" title="Permalink to this headline">¶</a></h3>
<p>The state of the object can easily be changed. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">TP</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">101325</span>
</pre></div>
</div>
<p>sets the temperature to 1200 K and the pressure to 101325 Pa (Cantera always
uses SI units). After this statement, calling <tt class="docutils literal"><span class="pre">gas1()</span></tt> results in:</p>
<div class="highlight-python"><div class="highlight"><pre> gri30:

      temperature            1200  K
         pressure          101325  Pa
          density       0.0204723  kg/m^3
 mean mol. weight         2.01588  amu

                         1 kg            1 kmol
                      -----------      ------------
         enthalpy     1.32956e+07         2.68e+07     J
  internal energy     8.34619e+06        1.682e+07     J
          entropy         85227.6        1.718e+05     J/K
   Gibbs function    -8.89775e+07       -1.794e+08     J
heat capacity c_p         15377.9          3.1e+04     J/K
heat capacity c_v         11253.4        2.269e+04     J/K

                          X                 Y          Chem. Pot. / RT
                    -------------     ------------     ------------
               H2              1                1         -17.9775
    [  +52 minor]              0                0
</pre></div>
</div>
<p>Notice that the temperature has been changed as requested, but the pressure
has changed too. The density and composition have not.</p>
<p>Thermodynamics generally requires that <em>two</em> properties in addition to
composition information be specified to fix the intensive state of a substance
(or mixture). The state of the mixture can be set using several combinations
of two properties. The following are all equivalent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">TP</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">101325</span>           <span class="c"># temperature, pressure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">TD</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">,</span> <span class="mf">0.0204723</span>        <span class="c"># temperature, density</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">HP</span> <span class="o">=</span> <span class="mf">1.32956e7</span><span class="p">,</span> <span class="mi">101325</span>      <span class="c"># specific enthalpy, pressure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">UV</span> <span class="o">=</span> <span class="mf">8.34619e6</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mf">0.0204723</span> <span class="c"># specific internal energy, specific volume</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">SP</span> <span class="o">=</span> <span class="mf">85227.6</span><span class="p">,</span> <span class="mi">101325</span>        <span class="c"># specific entropy, pressure</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">SV</span> <span class="o">=</span> <span class="mf">85227.6</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mf">0.0204723</span>   <span class="c"># specific entropy, specific volume</span>
</pre></div>
</div>
<p>In each case, the values of the extensive properties must be entered <em>per unit
mass</em>.</p>
<p>Properties may be read independently or together:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">T</span>
<span class="go">1200.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">h</span>
<span class="go">13295567.68</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">UV</span>
<span class="go">(8346188.494954427, 48.8465747765848)</span>
</pre></div>
</div>
<p>The composition can be set in terms of either mole fractions (<tt class="docutils literal"><span class="pre">X</span></tt>) or mass
fractions (<tt class="docutils literal"><span class="pre">Y</span></tt>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="s">&#39;CH4:1, O2:2, N2:7.52&#39;</span>
</pre></div>
</div>
<p>When the composition alone is changed, the temperature and density are held
constant. This means that the pressure and other intensive properties will
change. The composition can also be set in conjunction with the intensive
properties of the mixture:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">101325</span><span class="p">,</span> <span class="s">&#39;CH4:1, O2:2, N2:7.52&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="p">()</span>
</pre></div>
</div>
<p>results in:</p>
<div class="highlight-python"><div class="highlight"><pre> gri30:

      temperature            1200  K
         pressure          101325  Pa
          density        0.280629  kg/m^3
 mean mol. weight         27.6332  amu

                         1 kg            1 kmol
                      -----------      ------------
         enthalpy          861943        2.382e+07     J
  internal energy          500879        1.384e+07     J
          entropy          8914.3        2.463e+05     J/K
   Gibbs function    -9.83522e+06       -2.718e+08     J
heat capacity c_p         1397.26        3.861e+04     J/K
heat capacity c_v         1096.38         3.03e+04     J/K

                          X                 Y          Chem. Pot. / RT
                    -------------     ------------     ------------
               O2       0.190114         0.220149         -28.7472
              CH4       0.095057        0.0551863          -35.961
               N2       0.714829         0.724665         -25.6789
    [  +50 minor]              0                0
</pre></div>
</div>
<p>The composition above was specified using a string. The format is a comma-
separated list of <tt class="docutils literal"><span class="pre">&lt;species</span> <span class="pre">name&gt;:&lt;relative</span> <span class="pre">mole</span> <span class="pre">numbers&gt;</span></tt> pairs. The mole
numbers will be normalized to produce the mole fractions, and therefore they
are &#8220;relative&#8221; mole numbers. Mass fractions can be set in this way too by
changing <tt class="docutils literal"><span class="pre">X</span></tt> to <tt class="docutils literal"><span class="pre">Y</span></tt> in the above statements.</p>
<p>The composition can also be set using an array, which must have the same size
as the number of species. For example, to set all 53 mole fractions to the
same value, do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">53</span><span class="p">)</span> <span class="c"># NumPy array of 53 ones</span>
</pre></div>
</div>
<p>Or, to set all the mass fractions to equal values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">53</span><span class="p">)</span>
</pre></div>
</div>
<p>When setting the state, you can control what properties are held constant by
passing the special value <tt class="xref py py-obj docutils literal"><span class="pre">None</span></tt> to the property setter. For example, to
change the specific volume to 2.1 m^3/kg while holding entropy constant:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">SV</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="mf">2.1</span>
</pre></div>
</div>
<p>Or to set the mass fractions while holding temperature and pressure constant:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas1</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;CH4:1.0, O2:0.5&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-mechanism-files">
<h2>Working With Mechanism Files<a class="headerlink" href="#working-with-mechanism-files" title="Permalink to this headline">¶</a></h2>
<p>In previous example, we created an object that models an ideal gas mixture
with the species and reactions of GRI-Mech 3.0, using the <tt class="docutils literal"><span class="pre">gri30.xml</span></tt> input
file included with Cantera. This is a &#8220;pre-processed&#8221; XML input file written
in a format that is easy for Cantera to parse. Cantera also supports an input
file format that is easier to write, called <em>CTI</em>. Several reaction mechanism
files in this format are included with Cantera, including ones that model
high- temperature air, a hydrogen/oxygen reaction mechanism, and a few surface
reaction mechanisms. These files are usually located in the <tt class="docutils literal"><span class="pre">data</span></tt>
subdirectory of the Cantera installation directory, e.g. <tt class="docutils literal"><span class="pre">C:\\Program</span>
<span class="pre">Files\\Cantera\\data</span></tt> on Windows or <tt class="docutils literal"><span class="pre">/usr/local/cantera/data/</span></tt> on
Unix/Linux/Mac OS X machines, depending on how you installed Cantera and the
options you specified.</p>
<p>If for some reason Cantera has difficulty finding where these files are on your
system, set environment variable <tt class="docutils literal"><span class="pre">CANTERA_DATA</span></tt> to the directory or
directories (separated using <tt class="docutils literal"><span class="pre">;</span></tt> on Windows or <tt class="docutils literal"><span class="pre">:</span></tt> on other operating
systems) where they are located. Alternatively, you can call function
<a class="reference internal" href="importing.html#cantera.add_directory" title="cantera.add_directory"><tt class="xref py py-obj docutils literal"><span class="pre">add_directory</span></tt></a> to add a directory to the Cantera search path:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span><span class="o">.</span><span class="n">add_directory</span><span class="p">(</span><span class="s">&#39;/usr/local/cantera/my_data_files&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Cantera input files are plain text files, and can be created with any text
editor. See the document <a class="reference internal" href="../cti/index.html#sec-defining-phases"><em>Defining Phases</em></a> for more information.</p>
<p>A Cantera input file may contain more than one phase specification, or may
contain specifications of interfaces (surfaces). Here we import definitions of
two bulk phases and the interface between them from file <tt class="docutils literal"><span class="pre">diamond.cti</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gas2</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;diamond.cti&#39;</span><span class="p">,</span> <span class="s">&#39;gas&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diamond</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;diamond.cti&#39;</span><span class="p">,</span> <span class="s">&#39;diamond&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diamond_surf</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Interface</span><span class="p">(</span><span class="s">&#39;diamond.cti&#39;</span> <span class="p">,</span> <span class="s">&#39;diamond_100&#39;</span><span class="p">,</span>
<span class="go">                                [gas2, diamond])</span>
</pre></div>
</div>
<p>Note that the bulk (i.e., 3D or homogeneous) phases that participate in the
surface reactions must also be passed as arguments to <a class="reference internal" href="importing.html#cantera.Interface" title="cantera.Interface"><tt class="xref py py-obj docutils literal"><span class="pre">Interface</span></tt></a>.</p>
<div class="section" id="converting-ck-format-files">
<h3>Converting CK-format files<a class="headerlink" href="#converting-ck-format-files" title="Permalink to this headline">¶</a></h3>
<p>See <a class="reference internal" href="../cti/input-files.html#sec-ck-format-conversion"><em>Converting CK-format files</em></a> in the <a class="reference internal" href="../cti/input-files.html#sec-input-files"><em>Working with Input Files</em></a> documentation.</p>
</div>
</div>
<div class="section" id="getting-help">
<h2>Getting Help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>In addition to the Sphinx-generated <a class="reference internal" href="index.html#sec-cython-documentation"><em>Python Module Documentation</em></a>,
documentation of the Python classes and their methods can be accessed from
within the Python interpreter as well.</p>
<p>Suppose you have created a Cantera object and want to know what methods are
available for it, and get help on using the methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;gri30.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To get help on the Python class that this object is an instance of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>For a simple list of the properties and methods of this object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">dir</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
</pre></div>
</div>
<p>To get help on a specific method, e.g. the <tt class="docutils literal"><span class="pre">species_index</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">species_index</span><span class="p">)</span>
</pre></div>
</div>
<p>For properties, getting the documentation is slightly trickier, as the usual
method will give you the help for the <em>result</em>, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>will provide help on Python&#8217;s <tt class="docutils literal"><span class="pre">float</span></tt> class. To get the help for the
temperature property, ask for the attribute of the class object itself:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>If you are using the IPython shell, help can also be obtained using the <tt class="xref py py-obj docutils literal"><span class="pre">?</span></tt>
syntax:</p>
<div class="highlight-python"><div class="highlight"><pre>In[1]: g.species_index?
</pre></div>
</div>
</div>
<div class="section" id="chemical-equilibrium">
<h2>Chemical Equilibrium<a class="headerlink" href="#chemical-equilibrium" title="Permalink to this headline">¶</a></h2>
<p>To set a gas mixture to a state of chemical equilibrium, use the equilibrate
method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">cantera</span> <span class="kn">as</span> <span class="nn">ct</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;gri30.xml&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="mf">300.0</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">one_atm</span><span class="p">,</span> <span class="s">&#39;CH4:0.95,O2:2,N2:7.52&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">equilibrate</span><span class="p">(</span><span class="s">&#39;TP&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above statement sets the state of object <tt class="docutils literal"><span class="pre">g</span></tt> to the state of chemical
equilibrium holding temperature and pressure fixed. Alternatively, the
specific enthalpy and pressure can be held fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="mf">300.0</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">one_atm</span><span class="p">,</span> <span class="s">&#39;CH4:0.95,O2:2,N2:7.52&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">equilibrate</span><span class="p">(</span><span class="s">&#39;HP&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other options are:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;UV&#8217;   fixed specific internal energy and specific volume</li>
<li>&#8216;SV&#8217;   fixed specific entropy and specific volume</li>
<li>&#8216;SP&#8217;   fixed specific entropy and pressure</li>
</ul>
</div></blockquote>
<p>How can you tell if <tt class="docutils literal"><span class="pre">equilibrate</span></tt> has correctly found the chemical equilibrium
state? One way is verify that the net rates of progress of all reversible
reactions are zero. Here is the code to do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="mf">300.0</span><span class="p">,</span> <span class="n">ct</span><span class="o">.</span><span class="n">one_atm</span><span class="p">,</span> <span class="s">&#39;CH4:0.95,O2:2,N2:7.52&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">equilibrate</span><span class="p">(</span><span class="s">&#39;HP&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rf</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">forward_rates_of_progress</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rr</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">reverse_rates_of_progress</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">n_reactions</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">is_reversible</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">print</span><span class="p">(</span><span class="s">&#39; </span><span class="si">%4i</span><span class="s">  </span><span class="si">%10.4g</span><span class="s">  &#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">rf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">rr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="n">rf</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
</pre></div>
</div>
<p>If the magnitudes of the numbers in this list are all very small, then each
reversible reaction is very nearly equilibrated, which only occurs if the gas
is in chemical equilibrium.</p>
<p>You might be wondering how <tt class="docutils literal"><span class="pre">equilibrate</span></tt> works. (Then again, you might not).
Method <tt class="docutils literal"><span class="pre">equilibrate</span></tt> invokes Cantera&#8217;s chemical equilibrium solver, which uses
an element potential method. The element potential method is one of a class of
equivalent <em>nonstoichiometric</em> methods that all have the characteristic that
the problem reduces to solving a set of M nonlinear algebraic equations, where
M is the number of elements (not species). The so-called <em>stoichiometric</em>
methods, on the other hand, (including Gibbs minimization), require solving K
nonlinear equations, where K is the number of species (usually K &gt;&gt; M). See
Smith and Missen, &#8220;Chemical Reaction Equilibrium Analysis&#8221; for more
information on the various algorithms and their characteristics.</p>
<p>Cantera uses a damped Newton method to solve these equations, and does a few
other things to generate a good starting guess and to produce a reasonably
robust algorithm. If you want to know more about the details, look at the on-
line documented source code of Cantera C++ class &#8216;ChemEquil.h&#8217;.</p>
</div>
<div class="section" id="chemical-kinetics">
<h2>Chemical Kinetics<a class="headerlink" href="#chemical-kinetics" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="importing.html#cantera.Solution" title="cantera.Solution"><tt class="xref py py-obj docutils literal"><span class="pre">Solution</span></tt></a> objects are also <a class="reference internal" href="kinetics.html#cantera.Kinetics" title="cantera.Kinetics"><tt class="xref py py-obj docutils literal"><span class="pre">Kinetics</span></tt></a> objects, and provide all of the methods
necessary to compute the thermodynamic quantities associated with each reaction,
reaction rates, and species creation and destruction rates. They also provide
methods to inspect the quantities that define each reaction such as the rate
constants and the stoichiometric coefficients. The rate calculation functions
are used extensively within Cantera&#8217;s <a class="reference internal" href="zerodim.html#sec-cython-zerodim"><em>reactor network model</em></a> and <a class="reference internal" href="onedim.html#sec-cython-onedim"><em>1D flame model</em></a>.</p>
<p>Information about individual reactions that is independent of the thermodynamic
state can be obtained by accessing <a class="reference internal" href="kinetics.html#cantera.Reaction" title="cantera.Reaction"><tt class="xref py py-obj docutils literal"><span class="pre">Reaction</span></tt></a> objects with the
<a class="reference internal" href="kinetics.html#cantera.Kinetics.reaction" title="cantera.Kinetics.reaction"><tt class="xref py py-obj docutils literal"><span class="pre">Kinetics.reaction</span></tt></a> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="s">&#39;gri30.cti&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">reaction</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c"># get a Reaction object</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span>
<span class="go">&lt;ElementaryReaction: H2 + O &lt;=&gt; H + OH&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">reactants</span>
<span class="go">{&#39;H2&#39;: 1.0, &#39;O&#39;: 1.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">products</span>
<span class="go">{&#39;H&#39;: 1.0, &#39;OH&#39;: 1.0}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">rate</span>
<span class="go">Arrhenius(A=38.7, b=2.7, E=2.61918e+07)</span>
</pre></div>
</div>
<p>If we are interested in only certain types of reactions, we can use this
information to filter the full list of reactions to find the just the ones of
interest. For example, here we find the indices of just those reactions which
convert <tt class="xref py py-obj docutils literal"><span class="pre">CO</span></tt> into <tt class="xref py py-obj docutils literal"><span class="pre">CO2</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">II</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">reactions</span><span class="p">())</span>
<span class="go">          if &#39;CO&#39; in r.reactants and &#39;CO2&#39; in r.products]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">II</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">reaction</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">equation</span><span class="p">)</span>
<span class="go">CO + O (+M) &lt;=&gt; CO2 (+M)</span>
<span class="go">CO + O2 &lt;=&gt; CO2 + O</span>
<span class="go">CO + OH &lt;=&gt; CO2 + H</span>
<span class="go">CO + HO2 &lt;=&gt; CO2 + OH</span>
</pre></div>
</div>
<p>(Actually, we should also include reactions where the reaction is written such
that <tt class="docutils literal"><span class="pre">CO2</span></tt> is a reactant and <tt class="docutils literal"><span class="pre">CO</span></tt> is a product, but for this example, we&#8217;ll
just stick to this smaller set of reactions.) Now, let&#8217;s set the composition to
an interesting equilibrium state:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">TPX</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">101325</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;CH4&#39;</span><span class="p">:</span><span class="mf">0.6</span><span class="p">,</span> <span class="s">&#39;O2&#39;</span><span class="p">:</span><span class="mf">1.0</span><span class="p">,</span> <span class="s">&#39;N2&#39;</span><span class="p">:</span><span class="mf">3.76</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">equilibrate</span><span class="p">(</span><span class="s">&#39;HP&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We can verify that this is an equilibrium state by seeing that the net reaction
rates are essentially zero:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">net_rates_of_progress</span><span class="p">[</span><span class="n">II</span><span class="p">]</span>
<span class="go">array([  4.06576e-20,  -5.50571e-21,   0.00000e+00,  -4.91279e-20])</span>
</pre></div>
</div>
<p>Now, let&#8217;s see what happens if we decrease the temperature of the mixture:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">TP</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">T</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="bp">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">net_rates_of_progress</span><span class="p">[</span><span class="n">II</span><span class="p">]</span>
<span class="go">array([  3.18645e-05,   5.00490e-08,   1.05965e-01,   2.89503e-06])</span>
</pre></div>
</div>
<p>All of the reaction rates are positive, favoring the formation of <tt class="docutils literal"><span class="pre">CO2</span></tt> from
<tt class="docutils literal"><span class="pre">CO</span></tt>, with the third reaction, <tt class="docutils literal"><span class="pre">CO</span> <span class="pre">+</span> <span class="pre">OH</span> <span class="pre">&lt;=&gt;</span> <span class="pre">CO2</span> <span class="pre">+</span> <span class="pre">H</span></tt> proceeding the fastest.
If we look at the enthalpy change associated with each of these reactions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">delta_enthalpy</span><span class="p">[</span><span class="n">II</span><span class="p">]</span>
<span class="go">array([ -5.33035e+08,  -2.23249e+07,  -8.76650e+07,  -2.49170e+08])</span>
</pre></div>
</div>
<p>we see that the change is negative in each case, indicating a net release of
thermal energy. The total heat release rate can be computed either from the
reaction rates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">net_rates_of_progress</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">delta_enthalpy</span><span class="p">)</span>
<span class="go">-58013370.720881931</span>
</pre></div>
</div>
<p>or from the species production rates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">net_production_rates</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">partial_molar_enthalpies</span><span class="p">)</span>
<span class="go">-58013370.720881805</span>
</pre></div>
</div>
<p>The contribution from just the selected reactions is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">net_rates_of_progress</span><span class="p">[</span><span class="n">II</span><span class="p">],</span> <span class="n">g</span><span class="o">.</span><span class="n">delta_enthalpy</span><span class="p">[</span><span class="n">II</span><span class="p">])</span>
<span class="go">-9307123.2625651453</span>
</pre></div>
</div>
<p>Or about 16% of the total heat release rate.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="importing.html" title="Creating Phase Objects"
             >next</a> |</li>
        <li class="right" >
          <a href="migrating.html" title="Migrating from the Old Python Module"
             >previous</a> |</li>
        <li><a href="../index.html">Cantera</a> &raquo;</li>
          <li><a href="index.html" >Python Module Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Cantera Developers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>